'Number of Analysts making recommendations'
)
View(a)
names(a) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations'
)
View(df.mw)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock_health, key.statistics[46],
key.statistics[22],df.mw[2], df.mw[1])
names(abt) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations',
'Average recommendation'
)
View(abt)
row.why <- c('Valuation check. A stock with a P/S above 10 is momentum priced. Buying momentum priced stocks is only recommended in a strong market')
aa <- rbind(a,row.why)
aa
View(aa)
row.why <- c('Valuation check. A stock with a P/S above 10 is momentum priced. Buying momentum priced stocks is only recommended in a strong market'
,
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations',
'Average recommendation'
)
aa <- rbind(a,row.why)
View(aa)
a <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], as.character(stock_health), key.statistics[46],
key.statistics[22],df.mw[2], df.mw[1])
as.character(stock_health)
str(as.character(stock_health))
str(stock_health)
stock_health <- as.data.frame(stock_health)
stock_health <- as.data.frame(as.character(stock_health))
stock_health
View(stock_health)
stock_health
stock_health  <- paste("https://investorplace.com/stock-quotes/", stck, "-stock-quote/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="stock-aside"]') %>%
html_nodes(xpath='//*[@class="grade grade-color"]') %>%
html_nodes(xpath='//*[@class="grade-color stock-grade-rating"]') %>%
html_text()
stock.health <- as.data.frame(as.character(stock_health))
stock.health
View(stock.health)
as.character(stock_health)
stock_health
numbers <- factor(c(9, 8, 10, 8, 9))
str(numbers)
as.character(numbers)
str(as.character(numbers))
View(abt)
tt <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="sixwide addgutter"]') %>%
html_nodes(xpath='//*[@class="section"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]]%>%
html_text() %>%
as_tibble()
library(quantmod)
library(tidyquant)
library(rvest)
library(xml2)
library(glue)
c
tt <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="sixwide addgutter"]') %>%
html_nodes(xpath='//*[@class="section"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]]%>%
html_text() %>%
as_tibble()
tt <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="sixwide addgutter"]') %>%
html_nodes(xpath='//*[@class="section"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]]%>%
html_text() %>%
tibble::enframe(name = NULL)
tt <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="sixwide addgutter"]') %>%
html_nodes(xpath='//*[@class="section"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]]%>%
html_text() %>%
as_tibble()
stock.health  <- paste("https://investorplace.com/stock-quotes/", stck, "-stock-quote/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="stock-aside"]') %>%
html_nodes(xpath='//*[@class="grade grade-color"]') %>%
html_nodes(xpath='//*[@class="grade-color stock-grade-rating"]') %>%
html_text() %>%
enframe(name = NULL)
stock.health
recs <- paste0("https://www.marketwatch.com/investing/Stock/", stck, "/analystestimates") %>%
read_html() %>%
html_table() %>%
map_df(bind_cols) %>%
# Transpose
t() %>%
as_tibble()
recs <- recs[1:2,1:5]
# Set first row as column names
colnames(recs) <- recs[1,]
# Remove first row
recs <- recs[-1,]
# Add stock name column
recs$Stock_Name <- stock
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2], recs[1])
View(abt)
View(stock.health)
stock.health  <- paste("https://investorplace.com/stock-quotes/", stck, "-stock-quote/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="stock-aside"]') %>%
html_nodes(xpath='//*[@class="grade grade-color"]') %>%
html_nodes(xpath='//*[@class="grade-color stock-grade-rating"]') %>%
html_text()
stock.health  <- paste("https://investorplace.com/stock-quotes/", stck, "-stock-quote/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="stock-aside"]') %>%
html_nodes(xpath='//*[@class="grade grade-color"]') %>%
html_nodes(xpath='//*[@class="grade-color stock-grade-rating"]') %>%
html_text() %>%
enframe(name = 'stock_health')
View(stock.health)
stock.health  <- paste("https://investorplace.com/stock-quotes/", stck, "-stock-quote/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="stock-aside"]') %>%
html_nodes(xpath='//*[@class="grade grade-color"]') %>%
html_nodes(xpath='//*[@class="grade-color stock-grade-rating"]') %>%
html_text() %>%
enframe(name = NULL)
names(stock.health) <- c('Stock Health')
View(stock.health)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2], recs[1])
names(abt) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations',
'Average recommendation'
)
cash.flow <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="sixwide addgutter"]') %>%
html_nodes(xpath='//*[@class="section"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]] %>%
html_text() %>%
enframe(name = NULL)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2], recs[1])
names(abt) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations',
'Average recommendation'
)
View(abt)
View(key.statistics)
tt <- abt %>%  t()
View(tt)
shiny::runApp()
runApp()
x  <- array(1:24, 2:4)
xt <- aperm(x, c(2,1,3))
x
xt
ttt <- aperm(abt)
colnames(abt)
colnames(abt) <- n
colnames(abt) <- n
colnames(abt) <- nms
n <- colnames(abt)
n
abt[1,]
tt <- t(abt[1,])
tt
tt <- t(abt[1,1])
tt
tt <- t(abt[,1])
tt
tt <- t(abt)
wtt <- rbind(n,tt)
runApp()
n <- as.data.frame(colnames(abt))
wtt <- rbind(n,tt)
View(n)
wtt <- cbind(ntt,n)
wtt <- cbind(tt,n)
View(wtt)
runApp()
wtt <- cbind(n,tt)
a <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], as.character(stock_health), key.statistics[46],
key.statistics[22],df.mw[2], df.mw[1])
names(a) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations',
'Average recommendation'
)
row.why <- c('Valuation check. A stock with a P/S above 10 is momentum priced. Buying momentum priced stocks is only recommended in a strong market',
'Companies with positive operating cash flow are safer investments than cash burners (negative cash flow).',
'Institutional buying is an important catalyst for share price growth.
Institutions buy hundreds of thousands of shares and prefer stocks with
large daily trading volumes so they can easily move in and out of positions.',
'Invest, don’t gamble! Stick with companies with solid fundamentals.',
'Consistent strong sales growth over extended periods translates tol ong-term stock price appreciation.',
'Lack of institutional ownership means mutual funds, pension plans and other institutional
buyers don’t think they will make money owning the stock.
Why would you want to own it?',
'A company’s performance will go unrewarded if nobody knows about it.
Sufficient analyst coverage is essential to create investor interest,
especially from institutions.'
)
aa <- rbind(a,row.why)
row.why <- c('Valuation check. A stock with a P/S above 10 is momentum priced. Buying momentum priced stocks is only recommended in a strong market',
'Companies with positive operating cash flow are safer investments than cash burners (negative cash flow).',
'Institutional buying is an important catalyst for share price growth.
Institutions buy hundreds of thousands of shares and prefer stocks with
large daily trading volumes so they can easily move in and out of positions.',
'Invest, don’t gamble! Stick with companies with solid fundamentals.',
'Consistent strong sales growth over extended periods translates to long term stock price appreciation.',
'Lack of institutional ownership means mutual funds, pension plans and other institutional
buyers don’t think they will make money owning the stock.
Why would you want to own it?',
'A company’s performance will go unrewarded if nobody knows about it.
Sufficient analyst coverage is essential to create investor interest,
especially from institutions.'
)
aa <- rbind(a,row.why)
View(a)
row.why <- c('Stock Ticker',
'Valuation check. A stock with a P/S above 10 is momentum priced. Buying momentum priced stocks is only recommended in a strong market',
'Companies with positive operating cash flow are safer investments than cash burners (negative cash flow).',
'Institutional buying is an important catalyst for share price growth.
Institutions buy hundreds of thousands of shares and prefer stocks with
large daily trading volumes so they can easily move in and out of positions.',
'Invest, don’t gamble! Stick with companies with solid fundamentals.',
'Consistent strong sales growth over extended periods translates to long term stock price appreciation.',
'Lack of institutional ownership means mutual funds, pension plans and other institutional
buyers don’t think they will make money owning the stock.
Why would you want to own it?',
'A company’s performance will go unrewarded if nobody knows about it.
Sufficient analyst coverage is essential to create investor interest,
especially from institutions.'
)
aa <- rbind(a,row.why)
a <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], as.character(stock_health), key.statistics[46],
key.statistics[22],df.mw[2])
names(a) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations'
)
row.why <- c('Stock Ticker',
'Valuation check. A stock with a P/S above 10 is momentum priced. Buying momentum priced stocks is only recommended in a strong market',
'Companies with positive operating cash flow are safer investments than cash burners (negative cash flow).',
'Institutional buying is an important catalyst for share price growth.
Institutions buy hundreds of thousands of shares and prefer stocks with
large daily trading volumes so they can easily move in and out of positions.',
'Invest, don’t gamble! Stick with companies with solid fundamentals.',
'Consistent strong sales growth over extended periods translates to long term stock price appreciation.',
'Lack of institutional ownership means mutual funds, pension plans and other institutional
buyers don’t think they will make money owning the stock.
Why would you want to own it?',
'A company’s performance will go unrewarded if nobody knows about it.
Sufficient analyst coverage is essential to create investor interest,
especially from institutions.'
)
aa <- rbind(a,row.why)
View(aa)
t.aa <- t(aa)
runApp()
runApp()
t.aa <- cbind(n,t.aa)
View(n)
t.aa <- as.data.frame(t(aa))
t.aa <- cbind(n,t.aa)
n <- as.data.frame(colnames(abt))
View(n)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2])
n <- as.data.frame(colnames(abt))
t.aa <- cbind(n,t.aa)
t.aa
runApp()
names(stock.health) <- c('Stock Health')
View(stock.health)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2])
names(cash.flow) <- c('Cash Flow')
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2])
names(abt) <- c('Stock Ticker',
'Price/Sales ratio (P/S)',
'Cash Flow',
'Average daily volume (shares)',
'Fundamental Health Grade',
'Got Growth?',
'Institutional Ownership',
'Number of Analysts making recommendations'
)
n <- as.data.frame(colnames(abt))
t.aa <- cbind(n,t.aa)
runApp()
View(n)
View(t.aa)
t.aa <- as.data.frame(t(aa))
t.aa <- cbind(n,t.aa)
runApp()
names(t.abt) <- c('What is the metric','Values','Reason', 'Action')
abt <- rbind(a,row.why)
n <- as.data.frame(colnames(abt))
t.abt <- as.data.frame(t(abt))
t.abt <- cbind(n,t.abt)
output$tableDT <- DT::renderDataTable(t.abt,
options = list(paging=F),
rownames=F,
filter = "top")
runApp()
row.action <- c('O.K. to buy if P/S is less than 10. P/S ratios between 3 and 5 are best for growth stocks.
Ratios below 2 reflect value priced stocks.',
'O.K. to buy if Cash Flow is a positive number.',
'O.K. to buy if Average Daily Volume is 150,000 shares or higher, and above one million shares is best.',
'O.K. to buy if Fundamental Grade = A, B or C',
'O.K. to buy if recent quarterly growth numbers are 8% min. (higher is better). Best case is when year-over-year
(YoY) growth is accelerating.',
'O.K. to buy if a total of at least four analysts are listed as currently making strong buy, buy, hold,
underperform, or sell recommendations. Look only at the total number of analysts making recommendations,
not whether there are more buys than holds, etc.'
)
abt <- rbind(a, row.why, row.action)
View(abt)
stock.health  <- paste("https://investorplace.com/stock-quotes/", stck, "-stock-quote/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="stock-aside"]') %>%
html_nodes(xpath='//*[@class="grade grade-color"]') %>%
html_nodes(xpath='//*[@class="grade-color stock-grade-rating"]') %>%
html_text() %>%
enframe(name = NULL)
names(stock.health) <- c('Stock Health')
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2])
abt <- rbind(abt, row.why, row.action)
n <- as.data.frame(colnames(abt))
t.abt <- as.data.frame(t(abt))
t.abt <- cbind(n,t.abt)
View(t.abt)
names(t.abt) <- c('What is the metric','Values','Reason', 'Action')
runApp()
row.action <- c('Stock Ticker',
'O.K. to buy if P/S is less than 10. P/S ratios between 3 and 5 are best for growth stocks.
Ratios below 2 reflect value priced stocks.',
'O.K. to buy if Cash Flow is a positive number.',
'O.K. to buy if Average Daily Volume is 150,000 shares or higher, and above one million shares is best.',
'O.K. to buy if Fundamental Grade = A, B or C',
'O.K. to buy if recent quarterly growth numbers are 8% min. (higher is better). Best case is when year-over-year
(YoY) growth is accelerating.',
'O.K. to buy if a total of at least four analysts are listed as currently making strong buy, buy, hold,
underperform, or sell recommendations. Look only at the total number of analysts making recommendations,
not whether there are more buys than holds, etc.'
)
abt <- rbind(abt, row.why, row.action)
t.abt <- as.data.frame(t(abt))
t.abt <- cbind(n,t.abt)
names(t.abt) <- c('What is the metric','Values','Reason', 'Action')
View(t.abt)
abt
View(abt)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2])
abt <- rbind(abt, row.why, row.action)
n <- as.data.frame(colnames(abt))
t.abt <- as.data.frame(t(abt))
t.abt <- cbind(n,t.abt)
names(t.abt) <- c('What is the metric','Values','Reason', 'Action')
View(t.abt)
row.action <- c('Stock Ticker',
'O.K. to buy if P/S is less than 10. P/S ratios between 3 and 5 are best for growth stocks.
Ratios below 2 reflect value priced stocks.',
'O.K. to buy if Cash Flow is a positive number.',
'O.K. to buy if Average Daily Volume is 150,000 shares or higher, and above one million shares is best.',
'O.K. to buy if Fundamental Grade = A, B or C',
'O.K. to buy if recent quarterly growth numbers are 8% min. (higher is better). Best case is when year-over-year
(YoY) growth is accelerating.',
'O.K. to buy if percent held by institutions is at least 30% of shares outstanding.',
'O.K. to buy if a total of at least four analysts are listed as currently making strong buy, buy, hold,
underperform, or sell recommendations. Look only at the total number of analysts making recommendations,
not whether there are more buys than holds, etc.'
)
## Create a table to publish on dashboard
abt <- cbind(key.statistics[60],key.statistics[6],cash.flow,
key.statistics[17], stock.health, key.statistics[46],
key.statistics[22],recs[2])
abt <- rbind(abt, row.why, row.action)
n <- as.data.frame(colnames(abt))
t.abt <- as.data.frame(t(abt))
t.abt <- cbind(n,t.abt)
names(t.abt) <- c('What is the metric','Values','Reason', 'Action')
runApp()
nm <- paste0("https://finance.yahoo.com/quote/FNV?p=FNV") %>%
read_html() %>%
html_table() %>%
map_df(bind_cols)
View(nm)
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@class="clear stock"]')
View(nm)
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html()
View(nm)
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@id="nonchrome"]')
View(nm)
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@id="nonchrome"]') %>%
html_nodes(xpath='//*[@id="instrumentname"]')
View(nm)
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@id="nonchrome"]') %>%
html_nodes(xpath='//*[@id="above"]')
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@id="nonchrome"]') %>%
html_nodes(xpath='//*[@id="above"]') %>%
html_nodes(xpath='//*[@id="instrumentheader"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]] %>%
html_text() %>%
enframe(name = NULL)
View(nm)
nm <- glue("https://www.marketwatch.com/investing/Stock/",{company},"/profile/") %>%
read_html() %>%
html_nodes(xpath='//*[@id="nonchrome"]') %>%
html_nodes(xpath='//*[@id="above"]') %>%
html_nodes(xpath='//*[@id="instrumentheader"]') %>%
#   html_nodes(xpath='//*[@class="column"]') %>% .[[10]] %>%
#  html_text() %>%
# html_nodes(xpath='//*[@class="data lastcolumn"]') %>% .[[8]] %>%
html_text() %>%
enframe(name = NULL)
View(nm)
